version: '3.8'

services:
  file-creator:
    build: .
    ports:
      - "8002:8002"
    environment:
      - PORT=8002
      - BASE_URL=${BASE_URL:-http://localhost:8002}
      - ROOT_PATH=${ROOT_PATH:-}
      - FILES_DIR=/app/files
      - ASSETS_DIR=/app/assets
      - TEMPLATES_DIR=/app/templates
      - FILE_RETENTION_HOURS=24
    volumes:
      # Persistente Volumes f√ºr Dateien und Assets
      - file-data:/app/files
      - assets-data:/app/assets
      - templates-data:/app/templates
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8002/"]
      interval: 30s
      timeout: 10s
      retries: 3

volumes:
  file-data:
  assets-data:
  templates-data:
